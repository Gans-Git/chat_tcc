# ==============================================================================
# DOMAIN.YML - O "UNIVERSO" DO BOT
# Declara tudo o que o bot conhece: suas inten√ß√µes, as informa√ß√µes que ele
# pode guardar (slots), suas respostas prontas, suas a√ß√µes customizadas, etc.
# ==============================================================================

version: '3.1'

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

# --- INTEN√á√ïES ---
# Lista de todas as inten√ß√µes que o bot √© treinado para reconhecer.
intents:
  - saudacao
  - escolher_conversa
  - expressar_sentimento
  - continuar_desabafo
  - nao_continuar_desabafo
  - pedir_ajuda_urgente
  - afirmar_bem_estar
  - negar_sugestao
  - buscar_info_ansiedade
  - buscar_info_depressao
  - buscar_info_tdah
  - buscar_info_toc
  - buscar_info_tept
  - chitchat_como_vai
  - chitchat_quem_e_voce
  - agradecer
  - despedida
  - informar_frequencia
  - buscar_ajuda_profissional
  - nlu_fallback

# --- ENTIDADES ---
# Lista de todas as informa√ß√µes estruturadas que o bot pode extrair do texto.
entities:
  - transtorno
  - sentimento
  - opcao
  - frequencia
  - buscar_info_medicamento

# --- SLOTS ---
# A mem√≥ria do bot. Usado para armazenar informa√ß√µes durante a conversa.
slots:
  transtorno:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: transtorno
  sentimento:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: sentimento
  opcao:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: opcao
  # Slots para o formul√°rio de autoavalia√ß√£o
  sente_nervoso:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: frequencia
  nao_consegue_parar_preocupacao:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: frequencia

# --- RESPOSTAS (UTTERANCES) ---
# Todo o texto pr√©-definido que o bot pode usar para responder.
responses:
  # --- Respostas de Fluxo Geral e Acolhimento ---
  utter_saudacao:
    - text: "Ol√°! Sou seu assistente de apoio √† sa√∫de mental. Como posso te ajudar hoje? Voc√™ pode escolher uma das op√ß√µes:"
      buttons:
        - title: "Quero desabafar"
          payload: '/escolher_conversa{{"opcao": "desabafo"}}'
        - title: "Quero aprender sobre sa√∫de mental"
          payload: '/escolher_conversa{{"opcao": "aprendizado"}}'
        - title: "Quero fazer uma autoavalia√ß√£o"
          payload: '/escolher_conversa{{"opcao": "autoavaliacao"}}'
        - title: "Quero uma dica de autocuidado"
          payload: '/escolher_conversa{{"opcao": "dica_autocuidado"}}'
    - text: "Oi! Que bom te ver por aqui. Eu sou um bot de apoio emocional. O que voc√™ gostaria de fazer?"
      buttons:
        - title: "Quero desabafar"
          payload: '/escolher_conversa{{"opcao": "desabafo"}}'
        - title: "Quero aprender sobre sa√∫de mental"
          payload: '/escolher_conversa{{"opcao": "aprendizado"}}'
        - title: "Quero fazer uma autoavalia√ß√£o"
          payload: '/escolher_conversa{{"opcao": "autoavaliacao"}}'
        - title: "Quero uma dica de autocuidado"
          payload: '/escolher_conversa{{"opcao": "dica_autocuidado"}}'
  utter_default:
    - text: "Desculpe, n√£o entendi muito bem o que voc√™ quis dizer. Poderia tentar reformular?"
    - text: "Hmm, n√£o tenho certeza se compreendi. Lembre-se que voc√™ pode escolher uma das op√ß√µes do menu a qualquer momento se preferir."
  utter_ok_sem_problemas:
    - text: "Tudo bem, sem problemas! Fico feliz em continuar a conversa."

  # --- Respostas do Fluxo de Desabafo ---
  utter_desabafo:
    - text: "Claro, estou aqui pra voc√™. Sinta-se √† vontade para compartilhar o que est√° no seu cora√ß√£o. Lembre-se, este √© um espa√ßo seguro."
    - text: "Com certeza. Pode falar o que estiver sentindo. Estou aqui para te ouvir sem julgamentos."
    - text: "O espa√ßo √© todo seu. Pode come√ßar a digitar quando se sentir confort√°vel. Estou ouvindo."
  utter_apoio:
    - text: "Obrigado por compartilhar. Quer continuar falando sobre isso ou prefere mudar de assunto?"
      buttons:
        - title: "Quero continuar"
          payload: '/continuar_desabafo'
        - title: "Prefiro parar por aqui"
          payload: '/nao_continuar_desabafo'
  utter_encerrar:
   - text: "Entendido. Lembre-se de ser gentil consigo mesmo(a). Estarei por aqui se precisar conversar de novo."
   - text: "Tudo bem. Fico feliz em ter conversado com voc√™. Se cuide e saiba que pode voltar quando quiser."
  utter_nao_recomenda_medicamento:
    - text: "Sobre medicamentos, √© <b>muito importante</b> que voc√™ converse diretamente com um m√©dico ou psiquiatra. Eu sou um chatbot e <b>n√£o posso</b> dar nenhuma recomenda√ß√£o ou opini√£o sobre rem√©dios, dosagens ou efeitos colaterais. Apenas um profissional de sa√∫de qualificado pode avaliar sua situa√ß√£o e indicar o tratamento adequado, se necess√°rio."
    - text: "Entendo que voc√™ tenha d√∫vidas sobre medicamentos, mas essa √© uma √°rea exclusivamente m√©dica. **Eu n√£o tenho conhecimento nem autoriza√ß√£o para falar sobre isso.** Por favor, procure um m√©dico para discutir qualquer quest√£o relacionada a rem√©dios. Ele √© a pessoa certa para te orientar com seguran√ßa."
  # --- Respostas de Chitchat e Afirma√ß√µes ---
  utter_que_bom:
    - text: "Que not√≠cia maravilhosa! Fico muito feliz em saber que voc√™ est√° se sentindo bem. üéâ"
    - text: "Isso √© √≥timo! Que bom que voc√™ est√° tendo um bom dia. Continue assim!"
  utter_chitchat_como_vai:
    - text: "Eu sou um sistema de IA, ent√£o n√£o tenho sentimentos, mas estou 100% operacional para te ajudar! Como voc√™ est√° se sentindo?"
  utter_chitchat_quem_e_voce:
    - text: "Eu sou um assistente virtual criado para ser um espa√ßo seguro de apoio √† sa√∫de mental. Estou aqui para conversar e fornecer informa√ß√µes, mas √© importante lembrar que n√£o substituo um profissional de sa√∫de."
  utter_agradecer:
    - text: "De nada! Fico feliz em poder ajudar. üòä"
    - text: "√â para isso que estou aqui! Se precisar de mais alguma coisa, √© s√≥ chamar."
  utter_despedida:
    - text: "Tudo bem, at√© mais! Lembre-se de se cuidar."
    - text: "At√© logo! Estarei por aqui se precisar conversar de novo."

  # --- Respostas da Base de Conhecimento ---
  utter_aprendizado:
    - text: "√ìtima escolha! Posso te falar sobre Ansiedade, Depress√£o, TDAH, TOC e TEPT. Qual tema te interessa mais?"
  utter_info_ansiedade:
    - text: "A ansiedade √© uma rea√ß√£o normal ao estresse. Ela se torna um transtorno quando √© excessiva e come√ßa a atrapalhar sua vida di√°ria. Sintomas comuns incluem preocupa√ß√£o constante, tens√£o e medo. √â muito importante lembrar que apenas um profissional de sa√∫de pode fazer um diagn√≥stico."
  utter_info_depressao:
    - text: "A depress√£o √© um transtorno que afeta o humor, causando uma tristeza profunda e persistente, al√©m da perda de interesse em atividades que antes eram prazerosas. Se voc√™ se identifica com isso, conversar com um m√©dico ou psic√≥logo √© o passo mais importante."
  utter_info_tdah:
    - text: "O TDAH, ou Transtorno de D√©ficit de Aten√ß√£o e Hiperatividade, √© caracterizado por um padr√£o de desaten√ß√£o e/ou hiperatividade-impulsividade. Os sintomas podem incluir dificuldade de manter o foco e agir por impulso. O diagn√≥stico preciso s√≥ pode ser feito por um profissional."
  utter_info_toc:
    - text: "O TOC, ou Transtorno Obsessivo-Compulsivo, envolve pensamentos intrusivos (obsess√µes) e/ou comportamentos repetitivos (compuls√µes). √â uma condi√ß√£o que pode causar grande ang√∫stia, e conversar com um profissional pode trazer al√≠vio e estrat√©gias para lidar com os sintomas."
  utter_info_tept:
    - text: "O TEPT, ou Transtorno de Estresse P√≥s-Traum√°tico, pode se desenvolver ap√≥s uma pessoa vivenciar um evento traum√°tico. Os sintomas incluem flashbacks, pesadelos e ansiedade intensa. A ajuda de um terapeuta √© fundamental para a recupera√ß√£o."
  utter_dica_generica:
    - text: "Claro! Uma dica simples: respire fundo contando at√© 4, segure o ar por 4 segundos e solte lentamente em 6 segundos. Repetir isso algumas vezes ajuda a acalmar o sistema nervoso."
    - text: "Que tal fazer uma pequena pausa? Alongar o corpo por 5 minutos ou simplesmente olhar pela janela j√° ajuda a clarear a mente."

  # --- Respostas do Formul√°rio de Autoavalia√ß√£o ---
  utter_disclaimer_autoavaliacao:
    - text: "Vamos come√ßar. Lembre-se: esta √© uma breve autoavalia√ß√£o e <b>N√ÉO substitui um diagn√≥stico profissional</b>. O objetivo √© apenas te ajudar a refletir sobre seus sentimentos."
  utter_ask_sente_nervoso:
    - text: "Ok, primeira pergunta: Nas √∫ltimas 2 semanas, com que frequ√™ncia voc√™ se sentiu nervoso(a), ansioso(a) ou muito tenso(a)?"
      buttons:
        - title: "Nenhuma vez"
          payload: '/informar_frequencia{{"frequencia": "0"}}'
        - title: "V√°rios dias"
          payload: '/informar_frequencia{{"frequencia": "1"}}'
        - title: "Mais da metade dos dias"
          payload: '/informar_frequencia{{"frequencia": "2"}}'
        - title: "Quase todos os dias"
          payload: '/informar_frequencia{{"frequencia": "3"}}'
  utter_ask_nao_consegue_parar_preocupacao:
    - text: "Entendido. √öltima pergunta: Nas √∫ltimas 2 semanas, com que frequ√™ncia voc√™ n√£o conseguiu impedir ou controlar as preocupa√ß√µes?"
      buttons:
        - title: "Nenhuma vez"
          payload: '/informar_frequencia{{"frequencia": "0"}}'
        - title: "V√°rios dias"
          payload: '/informar_frequencia{{"frequencia": "1"}}'
        - title: "Mais da metade dos dias"
          payload: '/informar_frequencia{{"frequencia": "2"}}'
        - title: "Quase todos os dias"
          payload: '/informar_frequencia{{"frequencia": "3"}}'
  utter_submit_autoavaliacao:
    - text: "Obrigado por responder. A autoavalia√ß√£o est√° conclu√≠da."

  # --- Respostas de Encaminhamento e Emerg√™ncia ---
  utter_ajuda_urgente:
    - text: "Percebi que voc√™ est√° passando por um momento muito dif√≠cil e agrade√ßo por compartilhar isso. Por favor, n√£o hesite em procurar ajuda imediatamente. <b>Ligue para o CVV (Centro de Valoriza√ß√£o da Vida) no n√∫mero 188.</b> A liga√ß√£o √© gratuita e eles est√£o dispon√≠veis 24 horas por dia para te ouvir. Voc√™ n√£o est√° sozinho(a)."
  utter_ajuda_profissional:
    - text: "Buscar ajuda profissional √© um passo muito corajoso e importante. Separei alguns recursos que podem te ajudar a come√ßar. Lembre-se que n√£o tenho afilia√ß√£o com nenhum deles, s√£o apenas sugest√µes:"
      buttons:
        - title: "Mapa da Sa√∫de Mental"
          payload: "https://mapasaudemental.com.br/"
        - title: "Pode Falar (canal de ajuda)"
          payload: "https://www.podefalar.org.br/"
        - title: "Zenklub (plataforma)"
          payload: "https://zenklub.com.br/"

# --- A√á√ïES CUSTOMIZADAS ---
# Lista de todas as a√ß√µes definidas no arquivo actions.py.
actions:
  - action_analisar_e_sugerir
  - action_autoavaliacao_form
  - action_handle_menu_choice

# --- FORMUL√ÅRIOS ---
# Define os formul√°rios, seus nomes e os slots que eles precisam preencher.
forms:
  autoavaliacao_form:
    required_slots:
      - sente_nervoso
      - nao_consegue_parar_preocupacao